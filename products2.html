<!DOCTYPE html>
<html>

<head>
    <title>Products</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <style>
        #result {
            margin: auto;
            width: 50%;
        }
        .product {
            display:inline-block;
            background-color: darkseagreen;
            width: 100%;
            text-align: center;
            margin: 5px;
            padding: 10px 0;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }
    </style>
</head>

    <body>
        <script>
            window.onload = () => {
                $("button").on("click", () => {
                    //checks if contents of result div is empty before adding more html content
                    if ($('#result').is(':empty')) {
                        $.get("https://annewu109.github.io/assignment5/products.json", (data) => {
                            let allProducts = data.products;
                            
                            //display data for each product
                            allProducts.forEach((element, index) => {
                                $("#result").append("<div class='product' id='p" + index + "'></div>");
                                $("#p" + index).append("<h2>" + element.name + "</h2>");
                                $("#p" + index).append("<p>" + element.description + "</p>");
                                $("#p" + index).append("<p> Price: " + element.price + "</p>");

                                let categoryString = element.category.join(", ");
                                $("#p" + index).append("<p> Categories: " + categoryString + "</p>");
                            });
                        });
                    }
                });
            }
        </script>

        <button type="button">Click Me!</button>

        <div id="result"></div>
    </body>

</html>